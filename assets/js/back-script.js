(()=>{"use strict";var e,a,t,l,d,o,u,s;document.body.classList.contains("team-tally_page_teamtally_leagues_add")&&document.addEventListener("DOMContentLoaded",(()=>{e=document.querySelector(".teamtally_leagues__add-league #photo-upload"),a=document.querySelector(".teamtally_leagues__add-league #photo-remove"),l=document.querySelector("form#add-league input[name=league-photo]"),o=document.querySelector("form#add-league input[name=former-league-photo]"),u=document.querySelector("form#add-league input[name=former-league-photo-url]"),l=document.querySelector("form#add-league input[name=league-photo]"),d=document.querySelector(".teamtally_leagues__add-league__photo"),t=document.querySelector(".teamtally_leagues__add-league .submit .spinner"),e.addEventListener("click",(()=>{window.TEAMTALLY.tools.openMediaUploader((t=>{var o=t.state().get("selection").first().toJSON();l.value=o.id,d.style.backgroundImage=`url(${o.url})`,d.classList.remove("invalid"),e.classList.add("hidden"),a.classList.remove("hidden")}))})),a.addEventListener("click",(()=>(l.value="",d.style.backgroundImage="none",e.classList.remove("hidden"),a.classList.add("hidden"),d.classList.remove("invalid"),void(o&&(l.value=o.value,d.style.backgroundImage=`url(${u.value})`)))));const s=document.querySelector(".teamtally_leagues__add-league form");s.reset(),l.value="",s.addEventListener("submit",(e=>{if(!+l.value)return d.classList.add("invalid"),void e.preventDefault();t.classList.add("is-active")}))}));const n={mediaUploader:s,openMediaUploader:e=>{s||(s=wp.media({title:"Select Image",button:{text:"Use this image"},multiple:!1})).on("select",(()=>{e(s)})),s.open()}};window.TEAMTALLY={leagues:{},tools:n}})();